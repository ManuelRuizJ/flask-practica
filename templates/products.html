<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>CRUD Productos</title>
  </head>
  <body
    style="
      margin: 0;
      padding: 20px;
      background-color: #1a1a2e;
      font-family: &quot;Segoe UI&quot;, sans-serif;
      color: #fff;
    "
  >
    <div style="max-width: 1100px; margin: 0 auto">
      <header
        style="
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 30px;
          border-bottom: 2px solid #e94560;
          padding-bottom: 15px;
        "
      >
        <h1 style="margin: 0; color: #fff; font-size: 1.8rem">
          Gestión de Productos
        </h1>
        <a
          href="/crear"
          style="
            text-decoration: none;
            background-color: #2ecc71;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 0.9rem;
          "
          >+ Nuevo Producto</a
        >
      </header>

      <div
        style="
          display: flex;
          padding: 10px 20px;
          color: #999;
          font-size: 0.8rem;
          font-weight: bold;
          text-transform: uppercase;
          letter-spacing: 1px;
        "
      >
        <div style="flex: 0.5">ID</div>
        <div style="flex: 2">Nombre</div>
        <div style="flex: 1">Categoría</div>
        <div style="flex: 1">Precio</div>
        <div style="flex: 1">Stock</div>
        <div style="flex: 1">Estado</div>
        <div style="flex: 1.5; text-align: right">Acciones</div>
      </div>

      <div style="display: flex; flex-direction: column; gap: 10px">
        {% for p in productos %}
        <div
          style="
            display: flex;
            align-items: center;
            background-color: #16213e;
            border-radius: 8px;
            padding: 15px 20px;
            border: 1px solid #0f3460;
            transition: background 0.3s;
          "
        >
          <div style="flex: 0.5; color: #555; font-family: monospace">
            #{{ p[0] }}
          </div>

          <div style="flex: 2; font-weight: bold; color: #fff">{{ p[1] }}</div>

          <div style="flex: 1; color: #999">{{ p[5] }}</div>

          <div style="flex: 1; color: #e94560; font-weight: bold">
            ${{ p[2] }}
          </div>

          <div style="flex: 1">
            <span
              style="
                background: #1a1a2e;
                padding: 4px 8px;
                border-radius: 4px;
                font-size: 0.9rem;
              "
            >
              {{ p[3] }} <small style="color: #666">mxn</small>
            </span>
          </div>

          <div style="flex: 1">
            <span
              style="color: {{ '#2ecc71' if p[4] else '#e74c3c' }}; font-size: 0.85rem;"
            >
              {{ '● Activo' if p[4] else '○ Inactivo' }}
            </span>
          </div>

          <div
            style="
              flex: 1.5;
              display: flex;
              gap: 8px;
              justify-content: flex-end;
            "
          >
            <a
              href="/editar/{{ p[0] }}"
              style="
                text-decoration: none;
                color: #3498db;
                border: 1px solid #3498db;
                padding: 5px 12px;
                border-radius: 4px;
                font-size: 0.8rem;
              "
              >Editar</a
            >

            <form action="/eliminar/{{ p[0] }}" method="POST" style="margin: 0">
              <button
                onclick="return confirm('¿Eliminar producto?');"
                style="
                  cursor: pointer;
                  background-color: #e74c3c;
                  border: none;
                  color: white;
                  padding: 6px 12px;
                  border-radius: 4px;
                  font-size: 0.8rem;
                "
              >
                Borrar
              </button>
            </form>
          </div>
        </div>
        {% else %}
        <div
          style="
            text-align: center;
            padding: 40px;
            color: #555;
            background: #16213e;
            border-radius: 8px;
            border: 1px dashed #0f3460;
          "
        >
          No hay productos en la lista.
        </div>
        {% endfor %}
      </div>

      <div style="margin-top: 30px; text-align: center">
        <a
          href="/index"
          style="color: #666; text-decoration: none; font-size: 0.9rem"
          >&larr; Volver al inicio</a
        >
      </div>
    </div>
  </body>
</html>
